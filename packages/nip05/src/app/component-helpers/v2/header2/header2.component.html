<a class="brand" routerLink="/">
  <svg
    xmlns="http://www.w3.org/2000/svg"
    height="40px"
    viewBox="0 0 24 24"
    width="40px"
  >
    <path d="M13.79,8 15.59,5 13.79,2 10.21,2 8.41,5 10.21,8z" fill="#5c8374" />
    <path
      d="M10.21,9 8.41,12 10.21,15 13.79,15 15.59,12 13.79,9z"
      fill="currentColor"
    />
    <path
      fill="currentColor"
      d="M16.45,11.51 20.04,11.51 21.83,8.51 20.04,5.51 16.45,5.51 14.65,8.51z"
    />
    <path
      fill="#5c8374"
      d="M20.04,12.51 16.45,12.51 14.65,15.51 16.45,18.51 20.04,18.51 21.83,15.51z"
    />
    <path
      fill="currentColor"
      d="M7.55,11.51 9.35,8.51 7.55,5.51 3.96,5.51 2.17,8.51 3.96,11.51z"
    />
    <path
      fill="#5c8374"
      d="M7.55,12.51 3.96,12.51 2.17,15.51 3.96,18.51 7.55,18.51 9.35,15.51z"
    />
    <path
      fill="currentColor"
      d="M10.21,16 8.41,19 10.21,22 13.79,22 15.59,19 13.79,16z"
    />
  </svg>

  <span class="gradient-brand">NIP05.social</span>
</a>

<span class="flex-grow-1"></span>

<button
  mat-icon-button
  color="primary"
  cdkOverlayOrigin
  #menuTrigger="cdkOverlayOrigin"
  (click)="evaluateToken(); menuIsOpen = !menuIsOpen"
>
  <mat-icon>menu</mat-icon>
</button>

<ng-template
  cdkConnectedOverlay
  cdkConnectedOverlayPush
  [cdkConnectedOverlayOrigin]="menuTrigger"
  [cdkConnectedOverlayOpen]="menuIsOpen"
  [cdkConnectedOverlayHasBackdrop]="true"
  [cdkConnectedOverlayPositions]="[
    { originX: 'end', originY: 'bottom', overlayX: 'end', overlayY: 'top' }
  ]"
  cdkConnectedOverlayBackdropClass="unknown-backdrop"
  (backdropClick)="menuIsOpen = false"
>
  <app-card2>
    <div class="flex-column row-gap" style="min-width: 120px">
      <app-menu-button2
        align="start"
        icon="home"
        (click)="onMenuButtonClick('home')"
      >
        Home
      </app-menu-button2>

      <app-menu-button2
        align="start"
        icon="label"
        (click)="onMenuButtonClick('plans')"
      >
        Plans
      </app-menu-button2>

      <app-menu-button2
        align="start"
        icon="trending_up"
        (click)="onMenuButtonClick('stats')"
      >
        Stats
      </app-menu-button2>

      @if(tokenIsValid) {
      <app-menu-button2 fill="solid" (click)="onMenuButtonClick('/s/account')">
        Account
      </app-menu-button2>
      <app-menu-button2
        fill="solid-custom"
        customColor="#9ec8b9"
        customBackgroundColor="#1b4242"
        (click)="onClickLogout()"
      >
        Logout
      </app-menu-button2>
      } @else {
      <app-menu-button2 fill="solid" (click)="onMenuButtonClick('login')">
        Login
      </app-menu-button2>
      }
    </div>
  </app-card2>
</ng-template>
